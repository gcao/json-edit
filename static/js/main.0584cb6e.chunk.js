(this["webpackJsonpjson-edit"]=this["webpackJsonpjson-edit"]||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),c=a(14),o=a(0),l=a.n(o),i=a(13),s=a.n(i),u=a(1),d=(a(38),a(25)),m=a.n(d),h=a(6),p=Object(h.b)({name:"editPopup",initialState:{editing:!1},reducers:{show:function(e){e.editing=!0},hide:function(e){e.editing=!1}}}),v=p.actions,E=v.show,f=v.hide,b=function(e){return e.editPopup.editing},y=p.reducer;function O(e){var t=e.onSave,a=e.children,n=Object(u.b)(),r=Object(u.c)(b),c=function(){n(f())};return l.a.createElement("div",{className:m()("modal",{"is-active":r})},l.a.createElement("form",{onSubmit:function(){n(f()),t()}},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-card"},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("p",{className:"modal-card-title"},"Modal title"),l.a.createElement("button",{className:"delete","aria-label":"close",onClick:c})),l.a.createElement("section",{className:"modal-card-body"},a),l.a.createElement("footer",{className:"modal-card-foot"},l.a.createElement("button",{type:"submit",className:"button is-success"},"Save changes"),l.a.createElement("button",{type:"button",className:"button",onClick:c},"Cancel")))))}function A(e,t,a){return function(n){n.preventDefault(),n.stopPropagation(),a&&t.toString()===a.toString()||e(k(t))}}var j=Object(h.b)({name:"jsonEdit",initialState:{rawData:"null",data:null},reducers:{clearPath:function(e){e.pathUnderMouse=null},setPath:function(e,t){e.pathUnderMouse=t.payload},updateJson:function(e,t){e.rawData=t.payload,e.data=JSON.parse(t.payload)},updateData:function(e,t){var a,n=t.payload,r=n.path,c=n.value;e.data=r.update(e.data,c),e.rawData=(a=e.data,JSON.stringify(a,null,2))},updatePropName:function(e,t){}}}),M=j.actions,N=M.clearPath,k=M.setPath,g=M.updateJson,w=M.updateData,R=(M.updatePropName,function(e){return e.jsonEdit.data}),P=function(e){return e.jsonEdit.pathUnderMouse},C=j.reducer;function L(){var e,t=Object(u.b)(),a=Object(u.c)(b),n=Object(u.c)(R),r=Object(u.c)(P);if(Object(o.useEffect)((function(){e&&e.focus()})),!a)return null;var c=null===r||void 0===r?void 0:r.search(n);return l.a.createElement(O,{onSave:function(){t(w({path:r,value:e.value}))}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"New Value:"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",defaultValue:c,ref:function(t){return e=t}}))))}var _,x=a(15),U=a(16),S=a(42);!function(e){e[e.ROOT=0]="ROOT",e[e.ARRAY_ELEMENT=1]="ARRAY_ELEMENT",e[e.MAP_KEY=2]="MAP_KEY",e[e.MAP_VALUE=3]="MAP_VALUE",e[e.ARRAY_ALL=4]="ARRAY_ALL"}(_||(_={}));var T=function(){function e(t,a){Object(x.a)(this,e),this.parent=t,this.type=a,this.index=void 0,this.key=void 0}return Object(U.a)(e,[{key:"createArrayChild",value:function(t){var a=new e(this,_.ARRAY_ELEMENT);return a.index=t,a}},{key:"createArrayAllChildren",value:function(){return new e(this,_.ARRAY_ALL)}},{key:"createMapKeyChild",value:function(t){var a=new e(this,_.MAP_KEY);return a.key=t,a}},{key:"createMapValueChild",value:function(t){var a=new e(this,_.MAP_VALUE);return a.key=t,a}},{key:"isRoot",value:function(){return this.type===_.ROOT}},{key:"search",value:function(e){for(var t=this.spread(),a=0;a<t.length;a++){var n=t[a];switch(n.type){case _.ARRAY_ELEMENT:if(!S.a(Array,e))return;e=e[n.index];break;case _.MAP_KEY:if(!S.a(Object,e))return;e=n.key;break;case _.MAP_VALUE:if(!S.a(Object,e))return;e=e[n.key];break;case _.ARRAY_ALL:throw new Error("JPath search error: unsupported path type - ARRAY_ALL")}}return e}},{key:"update",value:function(e,t){if(this.isRoot())return t;var a=this.parent.search(e);switch(this.type){case _.ARRAY_ELEMENT:if(!S.a(Array,a))throw new Error("JPath update error: ARRAY_ELEMENT can only be applied on an array");a[this.index]=t;break;case _.MAP_VALUE:if(!S.a(Object,a))throw new Error("JPath update error: MAP_VALUE can only be applied on an object");a[this.key]=t;break;default:throw new Error("JPath update error: unsupported path type - ".concat(_[this.type]))}return e}},{key:"toString",value:function(){var e,t,a;switch(this.type){case _.ROOT:return"root";case _.ARRAY_ELEMENT:return"".concat(null===(e=this.parent)||void 0===e?void 0:e.toString(),"[").concat(this.index,"]");case _.ARRAY_ALL:return"".concat(null===(t=this.parent)||void 0===t?void 0:t.toString(),"[*]");case _.MAP_KEY:case _.MAP_VALUE:return"".concat(null===(a=this.parent)||void 0===a?void 0:a.toString(),'["').concat(this.key,'"]')}}},{key:"spread",value:function(){for(var e=[],t=this;null!==t;)e.unshift(t),t=t.parent;return e}}],[{key:"Root",value:function(){return new e(null,_.ROOT)}}]),e}(),Y=a(46),V=a(47),J=a(48),D=a(43);function K(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse,c=Number(V.a(a.map(J.a).sort()));return l.a.createElement("table",{className:"table json-array-array",onMouseOver:A(t,n,r)},l.a.createElement("thead",null,l.a.createElement("tr",{className:"head"},l.a.createElement("th",{className:"index-col"},"\xa0"),D.a((function(e){return l.a.createElement("th",{align:"center",key:e,onMouseOver:A(t,n.createArrayAllChildren().createArrayChild(e),r)},e+1)}),c))),l.a.createElement("tbody",null,a.map((function(e,a){return l.a.createElement("tr",{key:a,className:"row "+(a%2===0?"odd":"even")},l.a.createElement("td",{align:"right",valign:"middle",className:"index-col",onMouseOver:A(t,n.createArrayChild(a),r)},a+1),D.a((function(c){var o=n.createArrayChild(a).createArrayChild(c);return l.a.createElement("td",{key:c,onMouseOver:A(t,o,r)},l.a.createElement(W,{data:e[c],path:o,pathUnderMouse:r}))}),c))}))))}function z(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return l.a.createElement("div",{className:"json-literal-array",onMouseOver:A(t,n,r)},a.map((function(e,t){return l.a.createElement(W,{key:t,data:e,path:n.createArrayChild(t)})})))}var H=a(45),B=a(49),I=a(44);function q(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse,c=H.a(B.a(I.a(Object.keys,a)));return l.a.createElement("table",{className:"table json-object-array",onMouseOver:A(t,n,r)},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"head"},l.a.createElement("th",{className:"index-col"},"\xa0"),c.map((function(e,a){return l.a.createElement("th",{key:a,onMouseOver:A(t,n.createArrayAllChildren().createMapKeyChild(e),r)},e)}))),a.map((function(e,a){return l.a.createElement("tr",{key:a,className:"row "+(a%2===0?"odd":"even"),onMouseOver:A(t,n.createArrayChild(a),r)},l.a.createElement("td",{align:"right",valign:"middle",className:"index-col"},a+1),c.map((function(c,o){var i=n.createArrayChild(a).createMapValueChild(c);return l.a.createElement("td",{key:o,onMouseOver:A(t,i,r)},l.a.createElement(W,{data:e[c],path:i,pathUnderMouse:r}))})))}))))}function F(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return Y.a(a)?l.a.createElement("div",{className:"json-empty-array",onMouseOver:A(t,n,r)},"Empty array"):S.a(Array,a[0])?l.a.createElement(K,{data:a,path:n}):S.a(Object,a[0])?l.a.createElement(q,{data:a,path:n}):l.a.createElement(z,{data:a,path:n})}function G(e){var t=Object(u.b)(),a=Object(u.c)(P),n=e.data,r=e.path,c=function(){t(k(r)),t(E())};return S.a(Boolean,n)?l.a.createElement("div",{className:"field"},l.a.createElement("input",{type:"checkbox",className:"switch is-rounded",checked:n,onChange:function(){}}),l.a.createElement("label",null)):null===n?l.a.createElement("div",{className:"json-literal json-null",onDoubleClick:c,onMouseOver:A(t,r,a)},"null"):l.a.createElement("div",{className:"json-literal",onDoubleClick:c,onMouseOver:A(t,r,a)},n||"")}function Q(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return Y.a(a)?l.a.createElement("div",{className:"json-empty-object",onMouseOver:A(t,n,r)},"Empty object"):l.a.createElement("table",{className:"table is-bordered is-striped json-object",onMouseOver:A(t,n,r)},l.a.createElement("thead",null,l.a.createElement("tr",{className:"head"},l.a.createElement("th",{align:"right"},"<name>"),l.a.createElement("th",null,"<value>"))),l.a.createElement("tbody",null,Object.keys(a).sort().map((function(e,c){return l.a.createElement("tr",{key:e,className:"row "+(c%2===0?"odd":"even")},l.a.createElement("td",{align:"right",valign:"middle",className:"prop-name",onMouseOver:A(t,n.createMapKeyChild(e),r)},e||""),l.a.createElement("td",{className:"prop-value",onMouseOver:A(t,n.createMapValueChild(e),r)},l.a.createElement(W,{data:a[e],path:n.createMapValueChild(e)})))}))))}function W(e){var t=e.data;return S.a(Array,t)?l.a.createElement(F,e):S.a(Object,t)?l.a.createElement(Q,e):l.a.createElement(G,e)}var X;a(39);function Z(e){var t=e.data,a=Object(u.b)(),n=Object(u.c)(b),r=T.Root();return l.a.createElement("div",{className:"json-root",onMouseOut:function(e){e.preventDefault(),e.stopPropagation(),n||a(N())}},l.a.createElement(W,{data:t,path:r}))}!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(X||(X={}));var $={orientation:X.Vertical},ee=Object(h.b)({name:"layout",initialState:$,reducers:{changeOrientation:function(e,t){}}}),te=(ee.actions.changeOrientation,function(e){return e.layout.orientation}),ae=ee.reducer;var ne=function(){var e,t=Object(u.b)(),a=Object(u.c)(te),n=Object(u.c)(R),r=Object(u.c)((function(e){return e.jsonEdit.rawData})),c=Object(u.c)(P);return null!=c&&(c=c.toString()),a===X.Horizontal?l.a.createElement("div",null,"TODO"):l.a.createElement("div",{className:"App"},l.a.createElement("div",null,"Current Path: ",l.a.createElement("span",{id:"path"},c),l.a.createElement(Z,{data:n}),l.a.createElement("button",{className:"update",onClick:function(){return t(g(e.value))}},"Update"),l.a.createElement("br",null),l.a.createElement("textarea",{className:"raw-json",rows:25,cols:100,ref:function(t){return e=t},value:r,onChange:function(e){return t(g(e.target.value))}})),l.a.createElement(L,null))},re=Object(h.a)({reducer:{layout:ae,jsonEdit:C,editPopup:y},middleware:Object(h.c)({serializableCheck:!1})}),ce=(a(40),'\n  {\n    "a": "a-value",\n    "b": [\n      {\n        "first": "first value",\n        "second": "second value"\n      },\n      {\n        "first": "first value 2",\n        "second": "second value 2"\n      },\n      {\n        "first": "first value 3",\n        "second": "second value 3",\n        "third": "third value 3"\n      }\n    ],\n    "c": [\n      [\n        "cell 1-1",\n        {\n          "first": "first value",\n          "second": "second value"\n        }\n      ],\n      [\n        "cell 2-1",\n        {\n          "first": "first value",\n          "second": "second value"\n        }\n      ]\n    ],\n    "d": { "name": "John Doe", "age": 20, "email": "john_doe@company.com" },\n    "e": [ "Test 1", "Test 2", "Test 3" ],\n    "f": true,\n    "g": [],\n    "h": {},\n    "i": null\n  }\n'),oe=new(function(){function e(){Object(x.a)(this,e),this.hasJson=!1,this.jsonUrl=void 0,this.useProxy=!1;var t=new URL(window.location.toString()),a=t.searchParams.get("proxy");this.useProxy="1"===a||"true"===a;var n=t.searchParams.get("json-url");n&&(this.hasJson=!0,this.useProxy&&(n="".concat("https://yacdn.org/serve/").concat(n)),this.jsonUrl=n)}return Object(U.a)(e,[{key:"getText",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(decodeURI(this.jsonUrl));case 2:return t=e.sent,e.abrupt("return",t.text());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());oe.hasJson?Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.getText();case 2:ce=e.sent,re.dispatch(g(ce));case 4:case"end":return e.stop()}}),e)})))():re.dispatch(g(ce)),s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u.a,{store:re},l.a.createElement(ne,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0584cb6e.chunk.js.map