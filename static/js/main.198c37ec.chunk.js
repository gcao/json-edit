(this["webpackJsonpjson-edit"]=this["webpackJsonpjson-edit"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),c=a(19),o=a(0),i=a.n(o),l=a(18),s=a.n(l),u=a(1),d=a(37),m=a.n(d);a(100),a(101);function p(e){var t=e.config.children;return i.a.createElement("div",{className:"json-config array"},i.a.createElement("p",{className:"title is-5 json-type"},"Array of"),i.a.createElement(v,{config:t}))}function h(e){var t=e.config,a="Literal";return"string"===t.type?a="String":"number"===t.type?a="Number":"boolean"===t.type?a="Boolean":"any"===t.type&&(a="Any"),i.a.createElement("div",{className:"json-config literal"},i.a.createElement("div",null,a))}function f(e){var t=e.config;return 0===t.props.size?i.a.createElement("p",{className:"title is-4"},"Object"):i.a.createElement("table",{className:"table is-bordered is-striped object"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"head"},i.a.createElement("th",{align:"right"},"<name>"),i.a.createElement("th",null,"<value>"))),i.a.createElement("tbody",null,Array.from(t.props.keys()).map((function(e,a){return i.a.createElement("tr",{key:a,className:"row "+(a%2===0?"odd":"even")},i.a.createElement("td",{className:"key"},e),i.a.createElement("td",{className:"value"},i.a.createElement(v,{config:t.props.get(e)})))}))))}function v(e){var t=e.config;return"array"===t.type?i.a.createElement(p,{config:t}):"object"===t.type?i.a.createElement(f,{config:t}):i.a.createElement(h,{config:t})}function E(e){var t=e.config;return i.a.createElement("div",{className:"json-config root"},i.a.createElement(v,{config:t.root}))}var y=a(8);function b(e,t,a){return function(n){n.preventDefault(),n.stopPropagation(),a&&t.toString()===a.toString()||e(_(t))}}var j,O=a(28),g=a(11),A=a(9),N=a(105),k=function(){function e(){Object(g.a)(this,e),this.type=void 0,this._props=void 0,this._children=void 0,this.type="any"}return Object(A.a)(e,[{key:"props",get:function(){return this._props||(this._props=new Map),this._props}},{key:"children",get:function(){return this._children||(this._children=new e),this._children}}]),Object(A.a)(e,[{key:"toSerializable",value:function(){var e={};return e.type=this.type,"array"===e.type?e.children=this.children.toSerializable():"object"===e.type&&(e.props={},this.props.forEach((function(t,a){e.props[a]=t.toSerializable()}))),e}},{key:"toString",value:function(){return JSON.stringify(this.toSerializable(),null,2)}}],[{key:"fromSerializable",value:function(t){var a=new e;if(a.type=t.type,"array"===t.type)a._children=this.fromSerializable(t.children);else if("object"===t.type){a._props=new Map;for(var n=0,r=Object.entries(t.props);n<r.length;n++){var c=Object(O.a)(r[n],2),o=c[0],i=c[1];a._props.set(o,this.fromSerializable(i))}}return a}}]),e}(),M=function(){function e(){Object(g.a)(this,e),this.root=void 0,this.root=new k}return Object(A.a)(e,[{key:"toString",value:function(){var e={};return e.root=this.root.toSerializable(),JSON.stringify(e,null,2)}}],[{key:"fromJson",value:function(e){return this.fromData(JSON.parse(e))}},{key:"fromData",value:function(t){var a=new e;return this.dataToConfig(t,a.root),a}},{key:"dataToConfig",value:function(e,t){if(t.type=N.a(Array,e)?"array":typeof e,"array"===t.type)e.length>0&&(this.dataToConfig(e[0],t.children),t.children.type);else if(e&&"object"===t.type)for(var a=0,n=Object.entries(e);a<n.length;a++){var r=Object(O.a)(n[a],2),c=r[0],o=r[1],i=new k;t.props.set(c,i),this.dataToConfig(o,i)}}},{key:"deserialize",value:function(t){var a=new e,n=JSON.parse(t);return a.root=k.fromSerializable(n.root),a}}]),e}(),w=Object(y.b)({name:"jsonEdit",initialState:{jsonString:"null",data:null},reducers:{clearPath:function(e){e.pathUnderMouse=null},setPath:function(e,t){e.pathUnderMouse=t.payload},updateJson:function(e,t){e.jsonString=t.payload,e.data=JSON.parse(t.payload),e.config=M.fromData(e.data)},updateData:function(e,t){var a,n=t.payload,r=n.path,c=n.value;e.data=r.update(e.data,c),e.config=M.fromData(e.data),e.jsonString=(a=e.data,JSON.stringify(a,null,2))},updatePropName:function(e,t){}}}),S=w.actions,R=S.clearPath,_=S.setPath,P=S.updateJson,C=S.updateData,L=(S.updatePropName,function(e){return e.jsonEdit.data}),x=function(e){return e.jsonEdit.config},U=function(e){return e.jsonEdit.jsonString},T=function(e){return e.jsonEdit.pathUnderMouse},J=w.reducer,Y=a(40),V=a.n(Y),z=Object(y.b)({name:"editPopup",initialState:{editing:!1},reducers:{show:function(e){e.editing=!0},hide:function(e){e.editing=!1}}}),D=z.actions,K=D.show,B=D.hide,H=function(e){return e.editPopup.editing},I=z.reducer;function q(e){var t=e.title,a=e.onSave,n=e.children,r=Object(u.b)(),c=Object(u.c)(H),o=function(){r(B())};return i.a.createElement("div",{className:V()("modal",{"is-active":c})},i.a.createElement("form",{onSubmit:function(){r(B()),a()}},i.a.createElement("div",{className:"modal-background"}),i.a.createElement("div",{className:"modal-card"},i.a.createElement("header",{className:"modal-card-head"},i.a.createElement("p",{className:"modal-card-title"},t),i.a.createElement("button",{className:"delete","aria-label":"close",onClick:o})),i.a.createElement("section",{className:"modal-card-body"},n),i.a.createElement("footer",{className:"modal-card-foot"},i.a.createElement("button",{type:"submit",className:"button is-success"},"Save changes"),i.a.createElement("button",{type:"button",className:"button",onClick:o},"Cancel")))))}function F(){var e,t=Object(u.b)(),a=Object(u.c)(H),n=Object(u.c)(L),r=Object(u.c)(T);if(Object(o.useEffect)((function(){e&&e.focus()})),!a)return null;var c=null===r||void 0===r?void 0:r.search(n);return i.a.createElement(q,{title:"Edit",onSave:function(){t(C({path:r,value:e.value}))}},i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"New Value:"),i.a.createElement("div",{className:"control"},i.a.createElement("input",{className:"input",type:"text",defaultValue:c,ref:function(t){return e=t}}))))}!function(e){e[e.ROOT=0]="ROOT",e[e.ARRAY_ELEMENT=1]="ARRAY_ELEMENT",e[e.MAP_KEY=2]="MAP_KEY",e[e.MAP_VALUE=3]="MAP_VALUE",e[e.ARRAY_ALL=4]="ARRAY_ALL"}(j||(j={}));var G=function(){function e(t,a){Object(g.a)(this,e),this.parent=t,this.type=a,this.index=void 0,this.key=void 0}return Object(A.a)(e,[{key:"createArrayChild",value:function(t){var a=new e(this,j.ARRAY_ELEMENT);return a.index=t,a}},{key:"createArrayAllChildren",value:function(){return new e(this,j.ARRAY_ALL)}},{key:"createMapKeyChild",value:function(t){var a=new e(this,j.MAP_KEY);return a.key=t,a}},{key:"createMapValueChild",value:function(t){var a=new e(this,j.MAP_VALUE);return a.key=t,a}},{key:"isRoot",value:function(){return this.type===j.ROOT}},{key:"search",value:function(e){for(var t=this.spread(),a=0;a<t.length;a++){var n=t[a];switch(n.type){case j.ARRAY_ELEMENT:if(!N.a(Array,e))return;e=e[n.index];break;case j.MAP_KEY:if(!N.a(Object,e))return;e=n.key;break;case j.MAP_VALUE:if(!N.a(Object,e))return;e=e[n.key];break;case j.ARRAY_ALL:throw new Error("JPath search error: unsupported path type - ARRAY_ALL")}}return e}},{key:"update",value:function(e,t){if(this.isRoot())return t;var a=this.parent.search(e);switch(this.type){case j.ARRAY_ELEMENT:if(!N.a(Array,a))throw new Error("JPath update error: ARRAY_ELEMENT can only be applied on an array");a[this.index]=t;break;case j.MAP_VALUE:if(!N.a(Object,a))throw new Error("JPath update error: MAP_VALUE can only be applied on an object");a[this.key]=t;break;default:throw new Error("JPath update error: unsupported path type - ".concat(j[this.type]))}return e}},{key:"toString",value:function(){var e,t,a;switch(this.type){case j.ROOT:return"root";case j.ARRAY_ELEMENT:return"".concat(null===(e=this.parent)||void 0===e?void 0:e.toString(),"[").concat(this.index,"]");case j.ARRAY_ALL:return"".concat(null===(t=this.parent)||void 0===t?void 0:t.toString(),"[*]");case j.MAP_KEY:case j.MAP_VALUE:return"".concat(null===(a=this.parent)||void 0===a?void 0:a.toString(),'["').concat(this.key,'"]')}}},{key:"spread",value:function(){for(var e=[],t=this;null!==t;)e.unshift(t),t=t.parent;return e}}],[{key:"Root",value:function(){return new e(null,j.ROOT)}}]),e}(),Q=a(109),W=a(110),X=a(111),Z=a(106);function $(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse,c=Number(W.a(a.map(X.a).sort()));return i.a.createElement("table",{className:"table is-bordered is-striped json-array-array",onMouseOver:b(t,n,r)},i.a.createElement("thead",null,i.a.createElement("tr",{className:"head"},i.a.createElement("th",{className:"index-col"},"\xa0"),Z.a((function(e){return i.a.createElement("th",{align:"center",key:e,onMouseOver:b(t,n.createArrayAllChildren().createArrayChild(e),r)},e+1)}),c))),i.a.createElement("tbody",null,a.map((function(e,a){return i.a.createElement("tr",{key:a,className:"row "+(a%2===0?"odd":"even")},i.a.createElement("td",{align:"right",valign:"middle",className:"index-col",onMouseOver:b(t,n.createArrayChild(a),r)},a+1),Z.a((function(c){var o=n.createArrayChild(a).createArrayChild(c);return i.a.createElement("td",{key:c,onMouseOver:b(t,o,r)},i.a.createElement(le,{data:e[c],path:o,pathUnderMouse:r}))}),c))}))))}function ee(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return i.a.createElement("div",{className:"json-literal-array",onMouseOver:b(t,n,r)},a.map((function(e,t){return i.a.createElement(le,{key:t,data:e,path:n.createArrayChild(t)})})))}var te=a(108),ae=a(112),ne=a(107);function re(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse,c=te.a(ae.a(ne.a(Object.keys,a)));return i.a.createElement("table",{className:"table is-bordered is-striped json-object-array",onMouseOver:b(t,n,r)},i.a.createElement("thead",{className:"head"},i.a.createElement("tr",null,i.a.createElement("th",{className:"index-col"},"\xa0"),c.map((function(e,a){return i.a.createElement("th",{key:a,onMouseOver:b(t,n.createArrayAllChildren().createMapKeyChild(e),r)},e)})))),i.a.createElement("tbody",null,a.map((function(e,a){return i.a.createElement("tr",{key:a,className:"row "+(a%2===0?"odd":"even"),onMouseOver:b(t,n.createArrayChild(a),r)},i.a.createElement("td",{align:"right",valign:"middle",className:"index-col"},a+1),c.map((function(c,o){var l=n.createArrayChild(a).createMapValueChild(c);return i.a.createElement("td",{key:o,onMouseOver:b(t,l,r)},i.a.createElement(le,{data:e[c],path:l,pathUnderMouse:r}))})))}))))}function ce(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return Q.a(a)?i.a.createElement("div",{className:"json-empty-array",onMouseOver:b(t,n,r)},"Empty array"):N.a(Array,a[0])?i.a.createElement($,{data:a,path:n}):N.a(Object,a[0])?i.a.createElement(re,{data:a,path:n}):i.a.createElement(ee,{data:a,path:n})}function oe(e){var t=Object(u.b)(),a=Object(u.c)(T),n=e.data,r=e.path,c=function(){t(_(r)),t(K())};return N.a(Boolean,n)?i.a.createElement("div",{className:"field"},i.a.createElement("input",{type:"checkbox",className:"switch is-rounded",checked:n,onChange:function(){}}),i.a.createElement("label",null)):null===n?i.a.createElement("div",{className:"json-literal json-null",onDoubleClick:c,onMouseOver:b(t,r,a)},"null"):i.a.createElement("div",{className:"json-literal",onDoubleClick:c,onMouseOver:b(t,r,a)},n||"")}function ie(e){var t=Object(u.b)(),a=e.data,n=e.path,r=e.pathUnderMouse;return Q.a(a)?i.a.createElement("div",{className:"json-empty-object",onMouseOver:b(t,n,r)},"Empty object"):i.a.createElement("table",{className:"table is-bordered is-striped json-object",onMouseOver:b(t,n,r)},i.a.createElement("thead",null,i.a.createElement("tr",{className:"head"},i.a.createElement("th",{align:"right"},"<name>"),i.a.createElement("th",null,"<value>"))),i.a.createElement("tbody",null,Object.keys(a).sort().map((function(e,c){return i.a.createElement("tr",{key:e,className:"row "+(c%2===0?"odd":"even")},i.a.createElement("td",{align:"right",valign:"middle",className:"prop-name",onMouseOver:b(t,n.createMapKeyChild(e),r)},e||""),i.a.createElement("td",{className:"prop-value",onMouseOver:b(t,n.createMapValueChild(e),r)},i.a.createElement(le,{data:a[e],path:n.createMapValueChild(e)})))}))))}function le(e){var t=e.data;return N.a(Array,t)?i.a.createElement(ce,e):N.a(Object,t)?i.a.createElement(ie,e):i.a.createElement(oe,e)}var se;a(102);function ue(e){var t=e.data,a=Object(u.b)(),n=Object(u.c)(H),r=G.Root();return i.a.createElement("div",{className:"json-root",onMouseOut:function(e){e.preventDefault(),e.stopPropagation(),n||a(R())}},i.a.createElement(le,{data:t,path:r}))}function de(){var e,t=Object(u.b)(),a=Object(u.c)(L),n=Object(u.c)(x),r=Object(u.c)(U),c=Object(u.c)(T);return null!=c&&(c=c.toString()),i.a.createElement("div",{className:"App"},i.a.createElement("div",null,"Current Path: ",i.a.createElement("span",{id:"path"},c),i.a.createElement(m.a,{split:"vertical"},i.a.createElement(ue,{data:a}),n?i.a.createElement(E,{config:n}):""),i.a.createElement("button",{className:"update",onClick:function(){return t(P(e.value))}},"Update"),i.a.createElement("br",null),i.a.createElement("textarea",{className:"raw-json",rows:25,cols:100,ref:function(t){return e=t},value:r,onChange:function(e){return t(P(e.target.value))}})),i.a.createElement(F,null))}!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(se||(se={}));var me={orientation:se.Vertical},pe=Object(y.b)({name:"layout",initialState:me,reducers:{changeOrientation:function(e,t){}}}),he=(pe.actions.changeOrientation,pe.reducer),fe=Object(y.a)({reducer:{layout:he,jsonEdit:J,editPopup:I},middleware:Object(y.c)({serializableCheck:!1})}),ve=(a(103),'\n  {\n    "a": "a-value",\n    "b": [\n      {\n        "first": "first value",\n        "second": "second value"\n      },\n      {\n        "first": "first value 2",\n        "second": "second value 2"\n      },\n      {\n        "first": "first value 3",\n        "second": "second value 3",\n        "third": "third value 3"\n      }\n    ],\n    "c": [\n      [\n        "cell 1-1",\n        {\n          "first": "first value",\n          "second": "second value"\n        }\n      ],\n      [\n        "cell 2-1",\n        {\n          "first": "first value",\n          "second": "second value"\n        }\n      ]\n    ],\n    "d": { "name": "John Doe", "age": 20, "email": "john_doe@company.com" },\n    "e": [ "Test 1", "Test 2", "Test 3" ],\n    "f": true,\n    "g": [],\n    "h": {},\n    "i": null\n  }\n'),Ee=new(function(){function e(){Object(g.a)(this,e),this.hasJson=!1,this.jsonUrl=void 0,this.useProxy=!1;var t=new URL(window.location.toString()),a=t.searchParams.get("proxy");this.useProxy="1"===a||"true"===a;var n=t.searchParams.get("json-url");n&&(this.hasJson=!0,this.useProxy&&(n="".concat("https://yacdn.org/serve/").concat(n)),this.jsonUrl=n)}return Object(A.a)(e,[{key:"getText",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(decodeURI(this.jsonUrl));case 2:return t=e.sent,e.abrupt("return",t.text());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());Ee.hasJson?Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getText();case 2:ve=e.sent,fe.dispatch(P(ve));case 4:case"end":return e.stop()}}),e)})))():fe.dispatch(P(ve)),s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(u.a,{store:fe},i.a.createElement(de,null))),document.getElementById("root"))},41:function(e,t,a){e.exports=a(104)}},[[41,1,2]]]);
//# sourceMappingURL=main.198c37ec.chunk.js.map